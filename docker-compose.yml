---
services:
  backend:
    build: backend
    ports:
      - 8081:8081
    volumes:
      - ./backend/:/app/
    entrypoint: ["uvicorn", "src.app:app", "--reload", "--reload-dir=src", "--port=8081", "--host=0.0.0.0"]

  frontend:
    build: frontend
    ports:
      - 8080:8080
    environment:
      - VITE_DOCKER=true
      - VITE_HOST=0.0.0.0
      - VITE_BACKEND_HOST=backend
    volumes:
      - ./frontend/:/app/
      - /app/node_modules
